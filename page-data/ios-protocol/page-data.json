{"componentChunkName":"component---src-templates-blog-template-js","path":"/ios-protocol/","result":{"data":{"cur":{"id":"b4d25bb3-2a52-51d9-b1e6-4b9268ce3a23","html":"<h2 id=\"프로토콜\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\" aria-label=\"프로토콜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜</h2>\n<p>프로토콜은 타입이다.</p>\n<ol>\n<li>함수를 호출할 때, “프로토콜”을 파라미터로 전달할 수 있음.</li>\n<li>함수에서 “프로토콜”을 반환할 수 있음.</li>\n<li>“프로토콜”을 변수에 할당할 수 있음.</li>\n</ol>\n<p>구조체, 열거형, 클래스랑 비슷한 타입이라는 뜻이다. → 일급객체로 취급한다.(타입으로 사용하는 조건)</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token constant\">TV</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"TV켜기\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"TV끄기\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">SetTopBox</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"셋톱박스켜기\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"셋톱박스끄기\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doNetflix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"넷플릭스 하기\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">let</span> tv <span class=\"token operator\">=</span> <span class=\"token function\">TV</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntv<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntv<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//Remote프로토콜을 지정하면 달라짐.</span>\n\n<span class=\"token keyword\">let</span> sbox<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">SetTopBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsboxtv<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsbox<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nsbox<span class=\"token punctuation\">.</span><span class=\"token function\">doNetflix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>       <span class=\"token comment\">//이건 안됨.</span></code></pre></div>\n<p>인스턴스를 찍어낼 때 프로토콜로 지정해서 찍어내면, 프로토콜 선언 메서드들만 사용할 수 있다.\n그 외에 해당 함수의 프로토콜에서 지정된 함수 이외에 다른 메서드를 지정하고 싶다면, <strong>다운캐스팅</strong>을 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token punctuation\">(</span>sbox <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token class-name\">SetTopBox</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">doNetflix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"프로토콜-타입-취급의-장점\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%ED%83%80%EC%9E%85-%EC%B7%A8%EA%B8%89%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"프로토콜 타입 취급의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜 타입 취급의 장점</h3>\n<ol>\n<li>배열로 담을 수 있음.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">let</span> electronic<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Remote</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>tv<span class=\"token punctuation\">,</span> sbox<span class=\"token punctuation\">]</span>   \n\n<span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> electronic <span class=\"token punctuation\">{</span>  \n    item<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<ol start=\"2\">\n<li>파라미터로 사용할 수 있음.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOnSomeElectronics</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    item<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">turnOnSomeElectronics</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> tv<span class=\"token punctuation\">)</span>\n<span class=\"token function\">turnOnSomeElectronics</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> sbox<span class=\"token punctuation\">)</span></code></pre></div>\n<ol start=\"3\">\n<li>프로토콜의 준수성 검사</li>\n</ol>\n<p>특정타입이 프로토콜을 채택하고 있는지 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">tv <span class=\"token keyword\">is</span> <span class=\"token class-name\">Remote</span>\nsbox <span class=\"token keyword\">is</span> <span class=\"token class-name\">Remote</span></code></pre></div>\n<p>프로토콜 타입으로 저장된 인스턴스가 더 구체적인 타입인지 확인 가능</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">electronic<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> <span class=\"token constant\">TV</span>\nelectronic<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">is</span> <span class=\"token class-name\">SetTopBox</span></code></pre></div>\n<p>업캐스팅(as) 무조건 성공</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">let</span> newBox <span class=\"token operator\">=</span> sbox <span class=\"token keyword\">as</span> <span class=\"token class-name\">Remote</span>\nnewBox<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nnewBox<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>다운캐스팅(as?/as!)</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">let</span> sbox2<span class=\"token punctuation\">:</span> <span class=\"token class-name\">SetTopBox</span><span class=\"token operator\">?</span> <span class=\"token operator\">=</span> electronic<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token class-name\">SetTopBox</span>\nsbox2<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">doNetflix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"프로토콜의-상속\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%EC%83%81%EC%86%8D\" aria-label=\"프로토콜의 상속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜의 상속</h2>\n<p>실제로 프로토콜을 이용해서 상속을 하는 경우는 많이 없지만, 애플이 swift내에서 많은 것들을 프로토콜의 상속을 바탕으로 구조화해놓음.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2UlEQVQoz41SWwqEMAzs/c8l6AkE8Uv8UlF84zvLDKRkRZcNDClNMp0kdfJi13XJP3bPc7+SjuOQruukbVuPbdsYP8/T51lS90Skfp5nybJMoiiSMAwlTVOSLsvCGMh/EmrwrrCuawJnS/KoUAN37PvOYrQG4qZp6PX+rc69DX9dV3olRJvwGrN1Vqmz8oG+7wm0NwyDJ4ZBmcbGceRZH1FSBwUYsEKXEASBxHHMJaiBIEkSv6Q8z3kH9dM0sZuvGeICr1dVJUVRcBFItmPALMuyJPAYZmq/0QcKvb8kQZMvCQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"single\"\n        title=\"single\"\n        src=\"/static/a4b36d8f49d2a806243629466b9092ca/37523/single.png\"\n        srcset=\"/static/a4b36d8f49d2a806243629466b9092ca/e9ff0/single.png 180w,\n/static/a4b36d8f49d2a806243629466b9092ca/f21e7/single.png 360w,\n/static/a4b36d8f49d2a806243629466b9092ca/37523/single.png 720w,\n/static/a4b36d8f49d2a806243629466b9092ca/302a4/single.png 1080w,\n/static/a4b36d8f49d2a806243629466b9092ca/07a9c/single.png 1440w,\n/static/a4b36d8f49d2a806243629466b9092ca/ee787/single.png 2022w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>다중상속도 가능하다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9klEQVQoz3WSyaqGMAyFff/XUtCVbl3pSkFxnudzOYGU3h8NlNam+XKS6ADA8zzcsG0b6rpG27aymqbBeZ5QG8dR/F3Xia/ve4m1l0PIPM9YlkUepmkKz/MQBAGSJMG6rgZYFAWiKILrurKXZWlip2nCdV1wlEw7jgPDMEh2wqnovm8DJJyqVB1hGmsU6mN10JiJpfKOSbIsM+XRxzvb7Nh/CvVMVQQymIvK9Kz3dt9eFdrZ7CFRWVVVpgW/APtbFL5J150TjeMYvu8jDEPkeS7Qfd9lEDqQT+AvmAFUxyHYv8lbNZ9AdbCPBGqp7B1bwP59wQj8A6RRvgHF4yHWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"various\"\n        title=\"various\"\n        src=\"/static/db5759a6152732ffab63936d648ada07/37523/various.png\"\n        srcset=\"/static/db5759a6152732ffab63936d648ada07/e9ff0/various.png 180w,\n/static/db5759a6152732ffab63936d648ada07/f21e7/various.png 360w,\n/static/db5759a6152732ffab63936d648ada07/37523/various.png 720w,\n/static/db5759a6152732ffab63936d648ada07/302a4/various.png 1080w,\n/static/db5759a6152732ffab63936d648ada07/07a9c/various.png 1440w,\n/static/db5759a6152732ffab63936d648ada07/c7bb6/various.png 1986w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">AirConRemote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">Up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">Down</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">SuperRemoteProtocol</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">AirConRemote</span> <span class=\"token punctuation\">{</span> \n    <span class=\"token comment\">// func turnOn()</span>\n    <span class=\"token comment\">// func turnOff()</span>\n    <span class=\"token comment\">// func Up()</span>\n    <span class=\"token comment\">// func Down()</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 프로토콜의 채택 및 구현</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">HomePot</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">SuperRemoteProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">Up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">Down</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"프로토콜의-채택-및-전용-프로토콜-타입\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%EC%B1%84%ED%83%9D-%EB%B0%8F-%EC%A0%84%EC%9A%A9-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%ED%83%80%EC%9E%85\" aria-label=\"프로토콜의 채택 및 전용 프로토콜 타입 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜의 채택 및 전용 프로토콜 타입</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">SomeProtocol</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">AnyObject</span> <span class=\"token punctuation\">{</span>      <span class=\"token comment\">// AnyObject는 클래스 전용 프로토콜</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 구조체에서는 채택할 수 없게 됨 ⭐️</span>\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">AStruct</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// 클래스에서만 채택 가능</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">AClass</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"Do something\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>AnyObject는 프로토콜임. 그렇기 때문에 AnyObject를 범용적 타입으로 사용할 수 있었던 것이고 다운캐스팅(as? / as!)해서 구체적인 실제타입으로 사용할 수 있던 것.</p>\n<h2 id=\"프로토콜의-합성-문법\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%ED%95%A9%EC%84%B1-%EB%AC%B8%EB%B2%95\" aria-label=\"프로토콜의 합성 문법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜의 합성 문법</h2>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">// 프로토콜을 합성하여 임시타입으로 활용 가능</span>\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Named</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Aged</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> age<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Int</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// 하나의 타입에서 여러개의 프로토콜을 채택하는 것 당연히 가능 (다중 상속과 비슷한 역할)</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Named</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Aged</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span>\n    <span class=\"token keyword\">var</span> age<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Int</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>프로토콜을 &#x26;로 연결해서, 프로토콜 두개를 병합해서 타입으로 사용하는 것 가능</p>\n<h2 id=\"어트리뷰트-키워드\" style=\"position:relative;\"><a href=\"#%EC%96%B4%ED%8A%B8%EB%A6%AC%EB%B7%B0%ED%8A%B8-%ED%82%A4%EC%9B%8C%EB%93%9C\" aria-label=\"어트리뷰트 키워드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@어트리뷰트 키워드</h2>\n<h3 id=\"1-선언에-대한-추가정보-제공\" style=\"position:relative;\"><a href=\"#1-%EC%84%A0%EC%96%B8%EC%97%90-%EB%8C%80%ED%95%9C-%EC%B6%94%EA%B0%80%EC%A0%95%EB%B3%B4-%EC%A0%9C%EA%B3%B5\" aria-label=\"1 선언에 대한 추가정보 제공 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 선언에 대한 추가정보 제공</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token attribute atrule\">@available</span><span class=\"token punctuation\">(</span>iOS <span class=\"token number\">10.0</span><span class=\"token punctuation\">,</span> macOS <span class=\"token number\">10.12</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SomeType</span> <span class=\"token punctuation\">{</span>      <span class=\"token comment\">// \"SomeType\" 선언은 iOS 10.0 버전이상에서만 읽을 수 있음</span>\n    \n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"2-타입에-추가정보-제공\" style=\"position:relative;\"><a href=\"#2-%ED%83%80%EC%9E%85%EC%97%90-%EC%B6%94%EA%B0%80%EC%A0%95%EB%B3%B4-%EC%A0%9C%EA%B3%B5\" aria-label=\"2 타입에 추가정보 제공 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) 타입에 추가정보 제공</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doSomething</span><span class=\"token punctuation\">(</span>completion <span class=\"token punctuation\">:</span><span class=\"token attribute atrule\">@escaping</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//나중에 배움</span></code></pre></div>\n<h2 id=\"선택적인구현해도-안해도-되는-멤버-선언하기\" style=\"position:relative;\"><a href=\"#%EC%84%A0%ED%83%9D%EC%A0%81%EC%9D%B8%EA%B5%AC%ED%98%84%ED%95%B4%EB%8F%84-%EC%95%88%ED%95%B4%EB%8F%84-%EB%90%98%EB%8A%94-%EB%A9%A4%EB%B2%84-%EC%84%A0%EC%96%B8%ED%95%98%EA%B8%B0\" aria-label=\"선택적인구현해도 안해도 되는 멤버 선언하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>선택적인(구현해도 안해도 되는) 멤버 선언하기</h2>\n<ul>\n<li>프로토콜에서 요구사항 구현시, 선택적인 멤버로 구현가능 하도록 변형가능 (다만, 본 기능은 오브젝티브C에서 지원하는 기능임)</li>\n<li>@objc키워드를 프로토콜의 선언앞에 붙여서, 추가적인 정보 제공  (오브젝티브C에서 읽을 수 있는 코드라는 의미)</li>\n<li>@objc optional 을 멤버 앞에 선언 ➡ 해당 멤버는 선택적 요구사항으로 바뀜  (<strong>클래스 전용 프로토콜</strong>이기 때문에, 구조체 / 열거형에서는 채택하지 못함)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">\n<span class=\"token attribute atrule\">@objc</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attribute atrule\">@objc</span> <span class=\"token keyword\">optional</span> <span class=\"token keyword\">var</span> isOn<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Bool</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">get</span> <span class=\"token keyword\">set</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token attribute atrule\">@objc</span> <span class=\"token keyword\">optional</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doNeflix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">//프로토콜 앞에는 \"@objc\"추가</span>\n<span class=\"token comment\">//멤버 앞에는 \"@objc optional\"을 모두 추가</span></code></pre></div>\n<h2 id=\"프로토콜의-확장--디폴트-선언\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%ED%99%95%EC%9E%A5--%EB%94%94%ED%8F%B4%ED%8A%B8-%EC%84%A0%EC%96%B8\" aria-label=\"프로토콜의 확장  디폴트 선언 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜의 확장 ➡ 디폴트 선언</h2>\n<p>프로토콜을 채택한 타입에서 실제 메서드 구현을 반복(코드 중복 구현)해야하는 불편함 제거하고 단순히 기본구현(default)을 제공하는 개념</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token operator\">~~</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token operator\">~~</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>                         \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"리모콘 켜기\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"리모콘 끄기\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>   \n    \n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doAnotherAction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>               \n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"리모콘 또 다른 동작\"</span></span><span class=\"token punctuation\">)</span>           \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">var</span> tv7 <span class=\"token operator\">=</span> <span class=\"token function\">TV1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntv7<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntv7<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntv7<span class=\"token punctuation\">.</span><span class=\"token function\">doAnotherAction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 따로 선언하지 않아도 기본값으로 작동됨.</span></code></pre></div>\n<h3 id=\"여기에도-우선순위가-있다\" style=\"position:relative;\"><a href=\"#%EC%97%AC%EA%B8%B0%EC%97%90%EB%8F%84-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84%EA%B0%80-%EC%9E%88%EB%8B%A4\" aria-label=\"여기에도 우선순위가 있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>여기에도 우선순위가 있다.</h3>\n<p>요구사항의 메서드 우선순위가 적용되는데, 이 때 프로토콜 메서드 테이블을 만들게 됨.</p>\n<ol>\n<li>(채택) 구현시 해당 메서드를 반환하고,</li>\n<li>구현되지 않는다면 extenstion에서 기본으로 지정된 메서드가 나오게 됨.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB/ElEQVQoz21T227TQBDt//8DQi2IF56KBAKB0grCS5SLAyolqWPiWnacS534vhfbB52tHdKKkca7O7t75szs8dl8Podt29jtdqA1TYO6rs2otUZZlsjzHGmamlEIgc545tRpZ/wQwHEcAyqlNGvaer3GbDZDlmVIksSMvu/DdV0EQWASVlUFTdfa3Dvjh04mk8kEnucZNjQyYpKiKI6sGGMixgl2ypagR4bM/q3fx51tI1itTIJVGOLq+hrWdGrWPBfHCZzlEkEYopISzXYNxAezxwQGkBNe2IQhVr6PsmX0sNti8L2P3zc3hnUpBJaOg4+Xl/g5GUMphbqqDFjdNC0gJwBS7x7D8xe4ffsGD7NfyJRGMB6i9/oC9pdPiMIQUZLifjTA+1fnuO19RhEfoPYRVJKgavt5ZIi6RuH+gfBc1FI+9stzcffhHaLRAFoI8B03Pyz0Ll7C/XoFzUrS5LHksvgHSCnYiwWErqCaBkJKE1N8OaWg6VpDKgWRJCiXCxQrH6qqILWGUNrcMa9MQB7mS7IfTavBTldZnmOz2Zh92TIvlEK43aLIc5MMrXaflvwfsXYymVoWLMtCHMdtLDPr8XiM/X6PTilPADuA50bA4XCI0Wh0ApgbzRL0cDgcAY865ES1fXruLJN/SRRFRlpMzhhlRHZdjPfJ8C+9e5V0lkSC2wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vtable\"\n        title=\"vtable\"\n        src=\"/static/562110c5669b1ac0b50d327d42d3d751/37523/vtable.png\"\n        srcset=\"/static/562110c5669b1ac0b50d327d42d3d751/e9ff0/vtable.png 180w,\n/static/562110c5669b1ac0b50d327d42d3d751/f21e7/vtable.png 360w,\n/static/562110c5669b1ac0b50d327d42d3d751/37523/vtable.png 720w,\n/static/562110c5669b1ac0b50d327d42d3d751/302a4/vtable.png 1080w,\n/static/562110c5669b1ac0b50d327d42d3d751/07a9c/vtable.png 1440w,\n/static/562110c5669b1ac0b50d327d42d3d751/359cd/vtable.png 2972w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">Ipad</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span> <span class=\"token punctuation\">{</span>    <span class=\"token comment\">// Remote프로토콜을 채택한 클래스</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"아이패드 켜기\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">doAnotherAction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-literal\"><span class=\"token string\">\"아이패드 다른 동작\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>   \n\n\n<span class=\"token comment\">//====================================</span>\n\n<span class=\"token keyword\">let</span> ipad<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Ipad</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Ipad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nipad<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>           <span class=\"token comment\">// 클래스 - V테이블</span>\nipad<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>          <span class=\"token comment\">// 클래스 - V테이블</span>\nipad<span class=\"token punctuation\">.</span><span class=\"token function\">doAnotherAction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 클래스 - V테이블</span>\n\n<span class=\"token comment\">//====================================</span>\n\n<span class=\"token keyword\">let</span> ipad2<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Remote</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Ipad</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nipad2<span class=\"token punctuation\">.</span><span class=\"token function\">turnOn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>           <span class=\"token comment\">// 프로토콜 - W테이블</span>\nipad2<span class=\"token punctuation\">.</span><span class=\"token function\">turnOff</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>          <span class=\"token comment\">// 프로토콜 - W테이블</span>\nipad2<span class=\"token punctuation\">.</span><span class=\"token function\">doAnotherAction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 프로토콜 - Direct (직접 메서드 주소 삽입)</span></code></pre></div>\n<p>기본 요구사항은 Remote 프로토콜에 있는 turnOn()과 tuenOff()를 무조건 구현해야함.</p>\n<p>[Class Virtual 테이블]</p>\n<ul>\n<li>func turnOn()          { print(“아이패드 켜기”) }</li>\n<li>func turnOff()         { print(“리모콘 끄기”) }</li>\n<li>func doAnotherAction() { print(“아이패드 다른 동작”) }</li>\n</ul>\n<p>[Protocol Witness 테이블] - 요구사항</p>\n<ul>\n<li>func turnOn()  { print(“아이패드 켜기”) }</li>\n<li>func turnOff() { print(“리모콘 끄기”) }</li>\n</ul>\n<p>프로토콜-프로토콜 확장-클래스-인스턴스 이 과정을 이해해보자.</p>\n<p><strong>때떄로 프로토콜의 용량이 클때는 Heap 영역에 저장하기도 한다. 기본적으로는 Stack영역에서 처리.</strong>\n예를 들면, str타입은 애플이 구조체로 지정되어있고, 우리가 문자열 인스턴스를 찍어내면 stack에서 보통 처리가 되지만, 아주 긴 문자열의 경우는 Heap에서 처리된다고 함.</p>\n<br/>\n<h2 id=\"프로토콜-지향-프로그래밍\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D\" aria-label=\"프로토콜 지향 프로그래밍 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로토콜 지향 프로그래밍</h2>\n<blockquote>\n<p>상속의 단점</p>\n<ul>\n<li>하나의 클라스만 상속가능하지, 다중 상속은 불가능.</li>\n<li>기본적인 상위클래스의 메모리 구조를 따라갈 수 밖에 없음. 필요하지 않은 속성이나 메서드도 다 받아야만 함.</li>\n<li>구조체, 열거형등은 클래스의 상속을 받지 못함.</li>\n</ul>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABwUlEQVQoz4WQz2sTQRTH80d6EL2LB39hT0WsCiqFigUVPPRib0XI1YuetZi0WqoSSclm82uT3U12s5tNdmdm5yMz0doGfwy8ee8xvM/7zrfCytG6tDlJvjMJ14nCu4wG6wwHpr7DJHiA62wz8tYIRi8RQv2c0zZX/gaMo33gOovZTeofL/Hh/UUW6Q1gDefkKrX9C/jDDYSY/wOo9SlwlraYTp6Sps9Jwm0S39TPiMcv8Pq7pNMnROM9pPyvQntjktAg0xw5SpcRzZEaSg1CSJTiHOwUqK2ylZgVkOQQzn9vi02fwSz/tX5lDipn6edOtIAg4+yrraM5BPM/jhiWVViWJUIIpJSUaORkhuhHKIMwm0WBLgrMH60V4xTpxSgUUgqEKFBq6X3FwDzPo9vt4rouzWaTTtu1fX8wQAlB2XGQxweQFbSit3yKH3MUblEbbnIYbnEUb/Jt/MqKquR5boFJktBoNKhWq/R6PeI4Zuj7ZIEPwQg17EGU8XW6wxeuUc9u8bp+mXftKzS4zef0HtkiWXpoAI7j2Gi1WrTbbVt3ul2UlMYTdKmsiSfhG2rhBofhI+rhQw5MHt/n2N+xCn8AUtnucB95QWsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"connect\"\n        title=\"connect\"\n        src=\"/static/dee623642ee35bd69a46f6dbd73419cc/37523/connect.png\"\n        srcset=\"/static/dee623642ee35bd69a46f6dbd73419cc/e9ff0/connect.png 180w,\n/static/dee623642ee35bd69a46f6dbd73419cc/f21e7/connect.png 360w,\n/static/dee623642ee35bd69a46f6dbd73419cc/37523/connect.png 720w,\n/static/dee623642ee35bd69a46f6dbd73419cc/302a4/connect.png 1080w,\n/static/dee623642ee35bd69a46f6dbd73419cc/71b12/connect.png 1308w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>여러 개의 프로토콜의 다중 상속이 가능함.</li>\n<li>메모리 구조에 대한 특정 요구사항이 없음. 필요한 속성/메서드만 채택이 가능함. -@obj Optional</li>\n<li>모든 타입에서 채택이 가능 (벨류 타입도 가능)</li>\n<li>확장을 통해 재정의가 가능하고, 채택을 통해 타입 제약도 가능.</li>\n<li>조합의 장점을 잘 살려서 재사용성과/구성을 높일 수 있다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C\">프로토콜</a></p>\n<ul>\n<li><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%ED%83%80%EC%9E%85-%EC%B7%A8%EA%B8%89%EC%9D%98-%EC%9E%A5%EC%A0%90\">프로토콜 타입 취급의 장점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%EC%83%81%EC%86%8D\">프로토콜의 상속</a></p>\n<ul>\n<li><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%EC%B1%84%ED%83%9D-%EB%B0%8F-%EC%A0%84%EC%9A%A9-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%ED%83%80%EC%9E%85\">프로토콜의 채택 및 전용 프로토콜 타입</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%ED%95%A9%EC%84%B1-%EB%AC%B8%EB%B2%95\">프로토콜의 합성 문법</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%96%B4%ED%8A%B8%EB%A6%AC%EB%B7%B0%ED%8A%B8-%ED%82%A4%EC%9B%8C%EB%93%9C\">@어트리뷰트 키워드</a></p>\n<ul>\n<li><a href=\"#1-%EC%84%A0%EC%96%B8%EC%97%90-%EB%8C%80%ED%95%9C-%EC%B6%94%EA%B0%80%EC%A0%95%EB%B3%B4-%EC%A0%9C%EA%B3%B5\">(1) 선언에 대한 추가정보 제공</a></li>\n<li><a href=\"#2-%ED%83%80%EC%9E%85%EC%97%90-%EC%B6%94%EA%B0%80%EC%A0%95%EB%B3%B4-%EC%A0%9C%EA%B3%B5\">(2) 타입에 추가정보 제공</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%84%A0%ED%83%9D%EC%A0%81%EC%9D%B8%EA%B5%AC%ED%98%84%ED%95%B4%EB%8F%84-%EC%95%88%ED%95%B4%EB%8F%84-%EB%90%98%EB%8A%94-%EB%A9%A4%EB%B2%84-%EC%84%A0%EC%96%B8%ED%95%98%EA%B8%B0\">선택적인(구현해도 안해도 되는) 멤버 선언하기</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C%EC%9D%98-%ED%99%95%EC%9E%A5--%EB%94%94%ED%8F%B4%ED%8A%B8-%EC%84%A0%EC%96%B8\">프로토콜의 확장 ➡ 디폴트 선언</a></p>\n<ul>\n<li><a href=\"#%EC%97%AC%EA%B8%B0%EC%97%90%EB%8F%84-%EC%9A%B0%EC%84%A0%EC%88%9C%EC%9C%84%EA%B0%80-%EC%9E%88%EB%8B%A4\">여기에도 우선순위가 있다.</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C-%EC%A7%80%ED%96%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D\">프로토콜 지향 프로그래밍</a></p>\n</li>\n</ul>\n</div>","excerpt":"프로토콜 프로토콜은 타입이다. 함수를 호출할 때, “프로토콜”을 파라미터로 전달할 수 있음. 함수에서 “프로토콜”을 반환할 수 있음. “프로토콜”을 변수에 할당할 수 있음. 구조체, 열거형, 클래스랑 비슷한 타입이라는 뜻이다. → 일급객체로 취급한다.(타입으로 사용하는 조건) 인스턴스를 찍어낼 때 프로토콜로 지정해서 찍어내면, 프로토콜 선언 메서드들만 사용할 수 있다.\n그 외에 해당 함수의 프로토콜에서 지정된 함수 이외에 다른 메서드를 지정하고 싶다면, 다운캐스팅을 하면 된다. 프로토콜 타입 취급의 장점 배열로 담을 수 있음. 파라미터로 사용할 수 있음. 프로토콜의 준수성 검사 특정타입이 프로토콜을 채택하고 있는지 확인 프로토콜 타입으로 저장된 인스턴스가 더 구체적인 타입인지 확인 가능 업캐스팅(as) 무조건 성공 다운캐스팅(as?/as!) 프로토콜의 상속 실제로 프로토콜을 이용해서 상속을 하는 경우는 많이 없지만, 애플이 swift내에서 많은 것들을 프로토콜의 상속을 바탕으로 구…","frontmatter":{"date":"August 07, 2024","title":"iOS 스터디 week5. 프로토콜","categories":"iOS TIL","author":"ALEX","emoji":"🍎"},"fields":{"slug":"/ios-protocol/"}},"next":{"id":"73b5c440-d815-5285-984b-7665748ba158","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8UlEQVQoz22STWsTURiFZ+7ce+e785G0zWQmsWlTaJUmYtO0hvQjaNXSIKi4EFcilFJw4UJxoQv1B/iTH5lbrJa4ONzNeR/OOVzLti3CKCSOY5SU+L6HEILxeMzVxTvms322+13KcoUsSynabaIoIggC47Msy8gWAtu2sYSwSNOEqtOlqO6QppkxXl5d8vPbF75fvOZsd4NiJWF5OSNJYhzHuQH9UdpskuQNLKUctNYopXA9z7y14Wx+zucPl/z69J5Hoy2qctUAtVYLsFp16iiOsRxp/9egtUueZTx/csyzx8cmVT2HlI6pprRCKrl460qbVqQIXQelJK6W+O7fFFkSMx3tcHq0z/pahygKKYoWWZ4RhOGt+mbD1BP0c42vBa6nCXxF0WriB74xOMJidjRherCHqzW7D+5zcjKlVRQsJQmu694GroQOvVQhHRvtanxfUVUFZXuZdislb6Qopc3B5OE+s9khG/3ezdYLqpYkZSyxbOu6sqdolwXtomGAnU5JWRYkyRKvXszJ8/TmuIaaVP8Ce5mmGVzvUO8RxyGj0S6TyQG9tQ574z2GwyGHh1M2N/sMBwNmJ8cMBjuUVbWYsK7sSWE+piOEGbvqVKyuNuh2S+bnT1nf6NFbX2N7u8+Prx95++Yld+9t4QfBAvA3h0r1wl1htrgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Stella\"\n        title=\"Stella\"\n        src=\"/static/97a463cd97973d9e0e518710c2cb01f7/37523/Stella.png\"\n        srcset=\"/static/97a463cd97973d9e0e518710c2cb01f7/e9ff0/Stella.png 180w,\n/static/97a463cd97973d9e0e518710c2cb01f7/f21e7/Stella.png 360w,\n/static/97a463cd97973d9e0e518710c2cb01f7/37523/Stella.png 720w,\n/static/97a463cd97973d9e0e518710c2cb01f7/302a4/Stella.png 1080w,\n/static/97a463cd97973d9e0e518710c2cb01f7/21b4d/Stella.png 1280w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"gif는-어지간하면-올리지-말자\" style=\"position:relative;\"><a href=\"#gif%EB%8A%94-%EC%96%B4%EC%A7%80%EA%B0%84%ED%95%98%EB%A9%B4-%EC%98%AC%EB%A6%AC%EC%A7%80-%EB%A7%90%EC%9E%90\" aria-label=\"gif는 어지간하면 올리지 말자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GIF는 어지간하면 올리지 말자…</h3>\n<p>회고록을 올리면서 영상 데이터는 올릴 수가 없어서 MOV 파일을 Gif로 변환하여 깃허브에 push를 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Total <span class=\"token number\">20</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>, reused <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>, pack-reused <span class=\"token number\">0</span>\nremote: Resolving deltas: <span class=\"token number\">100</span>% <span class=\"token punctuation\">(</span><span class=\"token number\">3</span>/3<span class=\"token punctuation\">)</span>, completed with <span class=\"token number\">3</span> <span class=\"token builtin class-name\">local</span> objects.\nremote: error: Trace: 4ab160377c35c233a1d674a88230e5576ee58feb14500e0ac808193124a5dde9\nremote: error: See https://gh.io/lfs <span class=\"token keyword\">for</span> <span class=\"token function\">more</span> information.\nremote: error: File content/memoir-sesac-hackathon/final.gif is <span class=\"token number\">191.01</span> MB<span class=\"token punctuation\">;</span> this exceeds GitHub<span class=\"token string\">'s file size limit of 100.00 MB\nremote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.\nTo https://github.com/Dongckim/dongckim.github.io.git\n ! [remote rejected] master -> master (pre-receive hook declined)\nerror: failed to push some refs to '</span>https://github.com/Dongckim/dongckim.github.io.git'</code></pre></div>\n<p>이게 도대체 뭔데…자세히 보니, gif의 용량이 너무 커서 원격서버에 올릴 수 없다는 경고문구였다<br/>\n오케이 그럼 GIF 용량을 줄여야겠다~~ 너무 단순히 생각했었다. 그냥 gif 픽셀값을 줄여서 업로드 했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Total <span class=\"token number\">25</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">6</span><span class=\"token punctuation\">)</span>, reused <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span>delta <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>, pack-reused <span class=\"token number\">0</span>\nremote: Resolving deltas: <span class=\"token number\">100</span>% <span class=\"token punctuation\">(</span><span class=\"token number\">6</span>/6<span class=\"token punctuation\">)</span>, completed with <span class=\"token number\">3</span> <span class=\"token builtin class-name\">local</span> objects.\nremote: warning: File content/memoir-sesac-hackathon/final.gif is <span class=\"token number\">58.12</span> MB<span class=\"token punctuation\">;</span> this is larger than GitHub<span class=\"token string\">'s recommended maximum file size of 50.00 MB\nremote: error: Trace: b94cfc92d455b215a00a0974b0b03c89690cf64a990b7e499a12110b4cf7c870\nremote: error: See https://gh.io/lfs for more information.\nremote: error: File content/memoir-sesac-hackathon/final.gif is 191.01 MB; this exceeds GitHub'</span>s <span class=\"token function\">file</span> size limit of <span class=\"token number\">100.00</span> MB\nremote: error: GH001: Large files detected. You may want to try Git Large File Storage - https://git-lfs.github.com.\nTo https://github.com/Dongckim/dongckim.github.io.git\n <span class=\"token operator\">!</span> <span class=\"token punctuation\">[</span>remote rejected<span class=\"token punctuation\">]</span> master -<span class=\"token operator\">></span> master <span class=\"token punctuation\">(</span>pre-receive hook declined<span class=\"token punctuation\">)</span>\nerror: failed to push some refs to <span class=\"token string\">'https://github.com/Dongckim/dongckim.github.io.git'</span>\n<span class=\"token punctuation\">(</span>base<span class=\"token punctuation\">)</span> dongchankim@dongchankimui-MacBookAir dongckim.github.io % </code></pre></div>\n<p>네???</p>\n<p>기존의 파일은 삭제되지 않을 뿐더러, 새로운 파일 조차도 깃허브 제한에 걸리고 있는 모습이었다.</p>\n<p>Sibal 구글링해보자.. 제일 먼저 깃허브 공식문서를 봤다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACFUlEQVQoz1VT25KiQAzldW+z1ug4KtogDQhyR7mLoM5O7f//0JlKQLb2IXVCd3KSnA6K46eouz9I8guic42iueHgJfj2a47vLwu2HyOy//vtP//nbDnF0rdi2D7irBkITxXSomWks/BUIRkxPtfwogxhWiJIS/4m34tz9v04x2IloEgnxLnquDsiYxu7pcBT0XIwJXPhrGFCKsqFz82Up0kXiuVGnERdkD2DicRPCu6KkCZ4EsYjaToWC5Icp7LFamv867C9/2XM6h5V+0De3JDXPYrLHVnVsbZN/zndV9cP5M0dRfuJrHkgv3zgXTWgUJtBUmBveVzhXd1jI0xsdRvrncRGWHxOSGd0t9sfoGoWVpqLtd1gY1dYWyVmSx2KkC4LS4QUTCRESrgWJieqGp0bgzE5xegc87yjuOVGh2I6IWtCOvJ4dc8PkIwvf6p6+GkDL6kQ5x3Cc4u0vMFPa8TZBWnZIymuMA7BQCgPAcrLHW545pclkYloWKMSTtpBBA/oQQfh9xDBfbDwA25cQcY3mNEVunSGPSRCei0ecScnHQlXW8njbcQw5krVJ1tv91MOjfvyuuIlV0g33fJA60N/CPmkp2YeQXJopoed9KDbEft7y4dmhdAIpQtNHkE/x+tyOxAKw8ExykDrY3vJQOynsI4xTCeAsGPM9RRzWUG1TtiZIeayxkIEmM3XmL2pmC02U4df+/tj/VbD7pgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"size\"\n        title=\"size\"\n        src=\"/static/1b3a44e8a0e65ccd9fbeefef176b0a22/37523/size.png\"\n        srcset=\"/static/1b3a44e8a0e65ccd9fbeefef176b0a22/e9ff0/size.png 180w,\n/static/1b3a44e8a0e65ccd9fbeefef176b0a22/f21e7/size.png 360w,\n/static/1b3a44e8a0e65ccd9fbeefef176b0a22/37523/size.png 720w,\n/static/1b3a44e8a0e65ccd9fbeefef176b0a22/302a4/size.png 1080w,\n/static/1b3a44e8a0e65ccd9fbeefef176b0a22/07a9c/size.png 1440w,\n/static/1b3a44e8a0e65ccd9fbeefef176b0a22/f2f8c/size.png 1490w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>아…공식문서에서 조차 1GB 미만을 강력히 권고하고 있다.. 코드와 다양한 사진들을 함께 푸시했기 때문에 전체 용량으로 봤을 때 위험한 상황임으로 판단 되었다.</p>\n<p>오케이 그럼 삭제했는데 왜 삭제가 안되었다고 하지?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 126.11111111111113%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAADtElEQVQ4y31V2ZajRgzlJUv3tO32BmY3YAxmX40X7J5eTib5/w+6ORI2oTuZPNwjEIVKurqlEryoRHl8RVqd0ZxfkZZHRHmDXVyiOr6gbC7YJRX7y8MVkmrhYTTH43jR4+lZxGgqMQRFkaDIS8iyjJXuYKXZUIwNVNOFtt6ylY1N71Nuz/SNrKw7mC7VPqgQbDW07QHH0wnt6w9c3/9Cdbgizhu2eX1G0VyQVSd+zuoz8n3L2cbFgf3bIONgFFSQZQmi5kLSHIjKmnelHX95mODXx+f/xdeSOeBK30C3PMiGw2XQ8xDku5fO7ze/Yroc4Ntk2YMDbvyka0JSIcz2XAY1xA0y+FGBIK0RZXtGUhx4DYHWLGWTMZd0roo5JFJpcZBU3c95wz/QOwWwtxETr96yvDfFsH3OdL0JoNs++zggkUs/O34Cyva+40zS2dKi359mnzAskzj8VDJ1lsqlYNY26mSiO71MJM1iDikjypayGs9Wve6+Qri8/QkvzHkxwXJDDr6LK/hxhbg4Yu2GnC2JerEy+o7+FwQK0gmUuOk40i0f1jaB4YRYuxEk1b6VJOFpKmE8l/G8UP8FylwgvWm2j6Q8w90VSOu2Q94giEqYbsTfHT/F2o1he0m3ieb0EFWyG0xFDQI1gY6c4QQ3jfmssbvurG3M/u5YOr2dScYnzCUDk7kCoWnf4HhxL2CSAVnKJEj3iHKSTszdHXL106ZQ2+nwO16CbVhwRmS9qGApLeU1RNVijjtJGexbKgPwu4XnpQqBdqNsTi8/sG/fsW8/kDdXNJcP1Od3RMUJUXVFsr/CCSuYXoaV7nIAUbUHoKmjQfjt2xSSZsPyc9hBBXtXQN/E/KO1K+CENZz4gPWuhB3WDHntcWYUiALfg9PxE2g0DY+X4exYxOYmYF8n4jtnIkY3/sj/FcwhnUOVG9J1mPikjNmqNiYLhbkhSVBJP4WosT4F6h5JJqtbhFnDfBKoObafwg1ymJsQIktmw3obapB1qA10SF2mdGc8gjTu4h0zUcdCNjnDEZclM8g/kwYQO0wow6H2yBKHRIHp7Dpub6OK3u8D+HG8xMPTnC+rO/45y16MYt/yXUH3CCGtTkjKI98hNNqy6shIywOirIbC091lK+s2X2xUJQekyUwzka5MCkKXTn36ztcmBSReg/yEID8iri5I6iuy5jvq8wei8oLy+IbTyx8I06brsukEPAeN29S9l0X+teNjZQYY6zkmA4y1DCMlwlgvMNUi5o7UQAH/BkBAsHd4I4XrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"history\"\n        title=\"history\"\n        src=\"/static/13e714ca531d14a34dba879943c45484/37523/history.png\"\n        srcset=\"/static/13e714ca531d14a34dba879943c45484/e9ff0/history.png 180w,\n/static/13e714ca531d14a34dba879943c45484/f21e7/history.png 360w,\n/static/13e714ca531d14a34dba879943c45484/37523/history.png 720w,\n/static/13e714ca531d14a34dba879943c45484/302a4/history.png 1080w,\n/static/13e714ca531d14a34dba879943c45484/07a9c/history.png 1440w,\n/static/13e714ca531d14a34dba879943c45484/a8a6f/history.png 1516w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>로컬에서는 삭제되었더라도, 히스토리나 캐시데이터가 남아있을 수 있다는 걸 알았다. 해당 커밋기록이나, 캐시들을 전부 지워줘야 할 꺼 같았다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">brew <span class=\"token function\">install</span> git-lfs\n\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> .gitattributes\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Track large GIF file with Git LFS\"</span>\n\n<span class=\"token function\">git</span> <span class=\"token function\">add</span> content/memoir-sesac-hackathon/final.gif\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Add GIF file with LFS\"</span></code></pre></div>\n<p>GPT에서 추천하는 방식이었다. LFS라는 원격 Git Large File Storage로, 해당 파일을 그대로 올릴 수 있도록 도움을 줄 수 있는 것처럼 보여졌다.</p>\n<p>결론적으로는 아무 변화가 없었다… (역시 GPT는 믿고 걸러야 한다)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> <span class=\"token function\">rm</span> <span class=\"token parameter variable\">--cached</span> content/memoir-sesac-hackathon/final.gif\n<span class=\"token function\">git</span> commit <span class=\"token parameter variable\">-m</span> <span class=\"token string\">\"Remove large GIF file\"</span></code></pre></div>\n<p>해당 커맨드를 이용해서 로컬에 남아있는 히스토리를 지울 수 있지만, 캐시데이터는 여전히 남아있는 것을 보여졌다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">git</span> filter-branch --index-filter <span class=\"token string\">\"git rm -rf --cached --ignore-unmatch bringup\"</span> HEAD\n<span class=\"token function\">git</span> push origin <span class=\"token parameter variable\">--force</span> <span class=\"token parameter variable\">--all</span></code></pre></div>\n<p>위의 <code class=\"language-text\">git rm</code> 명령어를 사용할 경우 HEAD쪽에서는 삭제되어진 것으로 보여졌지만, 사실 History에는 여전히 남아있다고 한다.\n따라서 다시 되살릴 수 있는 여지가 있기 때문에 repo자체의 사이즈가 줄지 않는다고 한다. 완전삭제의 느낌과는 거리가 있어보인다.</p>\n<p>해당 명렁어를 통해 git 전체를 돌면서 관련 파일을 모두 삭제할 수 있었다. 뭔가 진행되어보여서 기분 좋게 기다렸다…</p>\n<p><code class=\"language-text\">push</code>도 안되던 것이 <code class=\"language-text\">--force</code>를 통해 강제 입력이 가능했고, 나름 희망적이었던 것 같다.\n근데 여전히…배포가 중단되는 것이다!!!! 으ㅏㅏ아아ㅏ아아아아ㅏㅏ앙!!</p>\n<p>한 2시간 여 삽질을 하다가 도저히 안되겠어서 수동삭제의 방식을 택하게 되었다…</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-type</span> f <span class=\"token parameter variable\">-size</span> +100M</code></pre></div>\n<p>일단 100M 넘는 파일 다 찾아.</p>\n<p>오? 문제가 되었던 final.gif 파일이 보여졌다. 경로를 바탕으로 뒤지기 시작했다. 처음으로 node_modules파일을 열어보는 계기가 된거 같기도 하다 ㅋㅋㅋㅋㅋㅋㅋ</p>\n<p>아니 여기에 gif파일이 몰래 숨어있지 아니한가!!!!!! 바로 지워버려!!</p>\n<p>떨리는 마음으로 배포 시작…\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkklEQVQ4y5WT646CQAyFeQlUVBTUeAPveAcNibz/I3XzNSlhCRvZH4fODJ3D6WlxxuOxrNdrOZ1OiuPxqNjv95IkiSwWCxmNRtLtdqXX632FE4ahgNVqJY/HQ5GmaUkcRZEMBoP2hJPJRMne77c8n0/ZbDYym82k3++L7/uqjsTWhEEQ6EVKPBwOSmaXO52OwvZtSFUhZRVFIZ/PR8tEcVOZrQjxD+NRSHNYo7KqsKry2wdKwt1up0ohY79cLnVtH8EaIzY0kSrhdDrVkcmyTJuC2jiOZbvdqgWQ0SQuYIXneX8rJAE1KLxcLnI+n3VsWN9uN93zjshckjufz4X5rSsGDo/hcKgqSaQ8mmKgbN5ROmSoQ20TVCEJlAQpQHEVds4F2zNmdTCvoCTEL/zDOyJqUEjkDJWu6/4iB+YdHEpIyVxkBl+vVwl8JOZ5Lvf7XT2kQfxNgAYSr9ergkaWCvHJPMNHVOEZayKJNKBp2M07zindIZEyODS/6jCPql4ZzEP7hR3U8A8j2WaMrxL/C7r8AyLgu1YKZOKDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"published\"\n        title=\"published\"\n        src=\"/static/63b166664860533b22f5d3c9f5ae5a4a/37523/published.png\"\n        srcset=\"/static/63b166664860533b22f5d3c9f5ae5a4a/e9ff0/published.png 180w,\n/static/63b166664860533b22f5d3c9f5ae5a4a/f21e7/published.png 360w,\n/static/63b166664860533b22f5d3c9f5ae5a4a/37523/published.png 720w,\n/static/63b166664860533b22f5d3c9f5ae5a4a/302a4/published.png 1080w,\n/static/63b166664860533b22f5d3c9f5ae5a4a/84f4d/published.png 1208w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Published!!!!! 배포완료!!!\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD+UlEQVQ4yx2T20/aBwCFf3/Pkr1t6ctelq7N2qVX267GVjtLqwgFL1Wk3ETuyk25VVFRUAS0IIgXLl4qvSCoKLXGrW26Zlma/RXfUh9OcvI9nO/pCIlxK6HhTkI2GckJG5nwCJmIh5VZL6tRL+vzHooLAQqJ5xQSATYXxni1PIVVIcPT/4Rs2EttM8FBMc7BZgJhN26kEh+kGh9kb9FMbcnBUdrFUdpOPePk3bKTg5Sdo7SD46ybWuobd1Gc1OOVPWRtVE110clpzsvnTR/C4aKR45SZd0kTR4sGTpIG3r0wUo0Z2J/XMaZ9REAjJjbcSXSok4hFwoTuMUGViNHuhyQt3SRt7eS9csoRNUI+qKE0reNVRM9ewkjuuYLcuJpSSENhTEnC1U/UoSBq7yFslTFrkhC3Scm4ZMyZ2lgblZN1isl7ZbwY7kCoJCzshA1U4gZqSTv7C2ZqiyaOktaz/j5tZS9u5K+VIQ7iGrYCctKOdpaG2sh5ZBT9MopeCeueJ5Rm1Aj1pI1SWE9+QkcuqKMaN1GJ6sgHVaQcXWyELGyFzewEn7IX1VAK9hBS3ydhaSfrkhCzdJDz97AbHeDN3ABCYVzFy7CB4oSanYieWsLA1pSWjKOXQGsrf1eq/Pf1K4VZFztjXRT8XWw8f8rbGSXLLglBjYgVj5zK/AAnGRtCOW7iw6rzLMcZB5/WR6inzLhUGi6fO4+koYlSLM5G+gURUwdvp/soTfVSnlGyMNROzt/NslvK9tQzTpbtCOWYlX82vJyuuPlc9PNlw0s97can1/LLj+e48MNPOKSPqW0W8NosbAeUVGf6yLolrLqkvA72kg90sjP9jGrCjFBfGuZ9xk45ZmI3YePfbR+ZCS8Rl5msT0njpYtc/fU3thfmGXd7uNNwj6yvn/1wL+uhbiIZOVtjPVSjKj6sDiN8GzlM2vmwaqeeGuJwyYFDrUIpbkcnfciln8/z3ffnGFE8YUYrobnhOg6FiOOwimRcjqYgJueWszvTx8mSEaGespHxa1j0qpg0dSEXPeD+rVvcu3qFpstXaL1+lZsXL6CWtJAPPGXO+AiPQkTMJGPEKaLN3kQxqKAy28/+vBrhU36U9TElfaJGpM13uXnlBg3XGmi8/TvSliZ6W28jbb5Dn/gPlOL7dIvu0njjGjJRC10dTTx6cJOQRcrHNSunyxaEz2sOanEDszb52Utcysf0tzWh7WhmVC1mK6Q6E6Z9CuKuXnwDElpuXaNP3IxW/oAFZycBnZjClI5XYQ3CZkhHJTpIeW6QrUktX3JOTpN63kyrKASVZP39fFwZ4s+lQfaiKvbmtVg7m1lw9HCY0HOSMlGe07Ax+YzXET3/AzdZNr38n46BAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"die\"\n        title=\"die\"\n        src=\"/static/9e76a9e453662179166c4d0465637484/37523/die.png\"\n        srcset=\"/static/9e76a9e453662179166c4d0465637484/e9ff0/die.png 180w,\n/static/9e76a9e453662179166c4d0465637484/f21e7/die.png 360w,\n/static/9e76a9e453662179166c4d0465637484/37523/die.png 720w,\n/static/9e76a9e453662179166c4d0465637484/302a4/die.png 1080w,\n/static/9e76a9e453662179166c4d0465637484/07a9c/die.png 1440w,\n/static/9e76a9e453662179166c4d0465637484/eb1d2/die.png 1622w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n종료시각 새벽 3시 34분…</p>","frontmatter":{"date":"August 05, 2024","title":"Github 대용량 파일 업로드 삽질....","categories":"Git 트러블슈팅","author":"ALEX","emoji":"🛜"},"fields":{"slug":"/git-largefile-upload/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://dongckim.github.io","comments":{"utterances":{"repo":"dongckim/dongckim.github.io"}}}}},"pageContext":{"slug":"/ios-protocol/","nextSlug":"/git-largefile-upload/","prevSlug":""}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}