{"componentChunkName":"component---src-templates-blog-template-js","path":"/opengl-output-merger/","result":{"data":{"cur":{"id":"e37a9a67-f1d8-51ff-9fe1-a78251e2a60b","html":"<p>ⓒ 2019. <a href=\"https://media.korea.ac.kr/people/jhan/\">JungHyun Han</a> Korea University Seoul, All rights reserved.</p>\n<br/>\n<h2 id=\"color-and-depth-buffers\" style=\"position:relative;\"><a href=\"#color-and-depth-buffers\" aria-label=\"color and depth buffers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Color and Depth Buffers</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.666666666666668%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAklEQVQY00WOTUsCURSG3faX+icVtInata1NtGjXqqBVizZBFEhkoEZSC9GxFpIZJDhq4ddgMNd7nbmOI+PME1rqCwcO7+F5OLEoipjONPN9EkZ4oxFKSpyBwh95lMvvVCoV/HFA5uGaq8sT/rEFO01sXoRhuLxOxmgp0J6PMwzo9PqYtTqiZ9FumKRTcbIF44+LwPX0QjoT2rZNu9kk0A4lS3GcM7mpKnQrRz+7z8A4xO19cP5mcVpo8KMEKn+AriYoFm/ZWVvh6Tm9/HDoeUghwB/y2nXYTX1yVpK49Ufs+01Ecgvx/cJRvstepobZatCNbyCLF3xVDbbXV0kk72bCX09FH3rCgpqcAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wrapup\"\n        title=\"wrapup\"\n        src=\"/static/7bc83f16ebab9fe8d2a83663a47d9672/37523/wrapup.png\"\n        srcset=\"/static/7bc83f16ebab9fe8d2a83663a47d9672/e9ff0/wrapup.png 180w,\n/static/7bc83f16ebab9fe8d2a83663a47d9672/f21e7/wrapup.png 360w,\n/static/7bc83f16ebab9fe8d2a83663a47d9672/37523/wrapup.png 720w,\n/static/7bc83f16ebab9fe8d2a83663a47d9672/302a4/wrapup.png 1080w,\n/static/7bc83f16ebab9fe8d2a83663a47d9672/07a9c/wrapup.png 1440w,\n/static/7bc83f16ebab9fe8d2a83663a47d9672/ec5f6/wrapup.png 1852w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>Viewport</strong> : 실제적으로 스크린에 보여줄 영역이다. 이때 그 영역을 잠시 보관하고 있는 공간을 <strong>Buffer</strong>라고 한다.</p>\n<ul>\n<li>Color Buffer : 스크린에 나타날 픽셀들을 잠시 저장하는 곳 (WxH)</li>\n<li>Depth Buffer : Color Buffer에 저장된 픽셀들의 Z-value들을 저장하는 곳이라 생각하면 되겠다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQoz22RXW7CMBCEuf+d+twDtJRKFGgDJJB/20lsx3G+ykmBCHX9YHlmNDvrXY3jyK289zjn6Psea+2ELfln7eP14FYzOVKLEt+1GCmpy5Iizxicm4Q3cbgvaUJvDHmaIuoKqzXDMNz5yTAA0XHP0Ero2gDgjaYNpgtxONF5h20krmsZg1nbYBt1T7sKQq01P8dv4s9vqrRi7Huwlt5o6qqcxruZJlXCaX1AFQI3zngnBULK2VBKiRCCzfuaw+sH0dceVVeMXYdrGpRS+DDyX4TtbkP08ka2PXFNYmRZorJs0s0JvZ8SGK1pZYUqCsr4THe9zGM9ffo1PlNcE+o8xZQVbZ4jkgRrzGMpz+Wdwyg1NVmaLbf8X4Wl/AImbyCIjWTuawAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"buffer\"\n        title=\"buffer\"\n        src=\"/static/9798863b2cdc4148ae48a609678d71de/37523/buffer.png\"\n        srcset=\"/static/9798863b2cdc4148ae48a609678d71de/e9ff0/buffer.png 180w,\n/static/9798863b2cdc4148ae48a609678d71de/f21e7/buffer.png 360w,\n/static/9798863b2cdc4148ae48a609678d71de/37523/buffer.png 720w,\n/static/9798863b2cdc4148ae48a609678d71de/302a4/buffer.png 1080w,\n/static/9798863b2cdc4148ae48a609678d71de/07a9c/buffer.png 1440w,\n/static/9798863b2cdc4148ae48a609678d71de/f3abf/buffer.png 1474w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Fragment Shader에서 계산된 normal을 이용해서 Lighting을 진행하고, 계산된 texCoord를 사용해서 texturing을 진행해서 결국 output merger에 RGB값을 전달하게 된다.</p>\n<br/>\n<h3 id=\"z-buffering\" style=\"position:relative;\"><a href=\"#z-buffering\" aria-label=\"z buffering permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Z-buffering</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQoz3WTbWsUMRDH74P7JcRXfgKRvihiURGqpU9XpVJsaw/aE8872rvu826S3SSb5CfZO+u9cWBCGMhvZv4zGbFlIYR44ELAOM8qSWm1wQcwvSMrSlZZjuw0LoBoW1ZpRlrVGNsPjFEEhC2Ppm2PVIqiKFBSIjpDpw1CSrLZDB1jpke2mjpNaBYLWmPxITAaQEN1PAE7Y0nTlLIsKYuCspE0McHjisezM9KLC4SQTO8LJpM584ND8tls4IwGgrcRSdi0HrMlSTJA8zynaAS1UqSLBfeHhyyPjmjKipvfGZ/PfnK1f0p6+X0NDM6SZILsPgNRDdioUQRGWJZlFLWgbBqS6ZTVt28sz8+pqprFQ8r84pKHk2OS27uNht5wkzqeP9tBv3yBjhqaHmstVVWhtUZ0ehC9a9vhbr2nbjXeO4SSKNsPQ/Q+rFv2vUEu5rSTa4J3dLZHKUXTNHRdizI9baeHWHF9jSlyVO8pRId4XCF/XKF7/28oT2uzOaOGERarixDRrqtUeU754T3F/j5KCC5+1RyM58x23tBMbvD/W5u4e+vqOtrY5gYol0vyvT3y3V1UnvH1ruLV21uuXr+jPjleA/9CtoFxKGVVIYQYwI3qqKSimt6Rj8fk41PqsuIhKVl+Oaf49JHiZrK1Nts/hYDzAaXNk2vrBtGlNkjb07qA9QHT93TOIV2gc354/wc1MUapk+UpUQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"zBuffering\"\n        title=\"zBuffering\"\n        src=\"/static/fdfdd8004fc6c9bda089e76375369945/37523/zBuffering.png\"\n        srcset=\"/static/fdfdd8004fc6c9bda089e76375369945/e9ff0/zBuffering.png 180w,\n/static/fdfdd8004fc6c9bda089e76375369945/f21e7/zBuffering.png 360w,\n/static/fdfdd8004fc6c9bda089e76375369945/37523/zBuffering.png 720w,\n/static/fdfdd8004fc6c9bda089e76375369945/302a4/zBuffering.png 1080w,\n/static/fdfdd8004fc6c9bda089e76375369945/07a9c/zBuffering.png 1440w,\n/static/fdfdd8004fc6c9bda089e76375369945/8126d/zBuffering.png 2316w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>color buffer에 저장하게 되는데, 각 fragment 모두마다 z-value를 비교를 해서 나타나게 된다.</p>\n<ul>\n<li>\n<p>예를 들어, 1,0으로 주어진 default 값에 비해 더 z값이 작기 때문에 해당 값의 RGB가 fragment를 채우게 된다.</p>\n</li>\n<li>\n<p>파란색 fragment와 겹치는 자리는 z값을 비교해보면 파란색의 z값이 더 작기 때문에 파란색 fragment로 지정이 된다고 생각하면 되겠다.</p>\n</li>\n<li>\n<p>Rendering-Order는 상관없이 동일한 결과를 얻게 된다.</p>\n</li>\n</ul>\n<h3 id=\"z-buffering-in-gl\" style=\"position:relative;\"><a href=\"#z-buffering-in-gl\" aria-label=\"z buffering in gl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Z-buffering in GL</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token function\">glClearDepth</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">//initialized with depth 1.0</span>\n<span class=\"token function\">glClearColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">1.0f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0f</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// initialized with white</span>\n<span class=\"token function\">glClear</span><span class=\"token punctuation\">(</span>GL_DEPTH_BUFFER_BIT <span class=\"token operator\">|</span> GL_COLOR_BUFFER_BIT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>     <span class=\"token comment\">// clear buffers</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token function\">glEnable</span><span class=\"token punctuation\">(</span>GL_DEPTH_TEST<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">glDepthFunc</span><span class=\"token punctuation\">(</span>GL_LESS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">// not need</span></code></pre></div>\n<br/>\n<h2 id=\"rgb-a--alpha-blending\" style=\"position:relative;\"><a href=\"#rgb-a--alpha-blending\" aria-label=\"rgb a  alpha blending permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>RGB “A” → Alpha blending</h2>\n<p>alpha channel은 [0,1] 범위 안에서 투명도를 계산해서 보여준다고 생각하면 되겠다.</p>\n<ul>\n<li>0 denotes “fully transparent”</li>\n<li>1 denotes “fully opaque”</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABTklEQVQoz3WSsU7DMBCGeSEWHg8QzwIsgMrEEGBD6oIqgQQUIQYQUBpCG9ykjV3H9uUDkrTAwC3nk8+f///sFdqoqqrJbS0iFEVBnudkWYbWGqUU3rk/fe3hpq4qVn7DgnO42QRXWkIINTSI4L2v1845lJpQGIP5GKN6PQqt8SJLUUvgNzKYguxDIWaGneaU1uCNXoio43k4ov804bl7ztvONuNuF2fMD3ChrvFp6T1qzi7HqM11zNMj3tnGUtuXjBS9+5SzkwsuD0+J9/aZv7w0QJFGYVmWTKcz5plikBp2D655WF0j29rAeUfwfgkcJinn/YSbqMtD54j3Tgc7HP61bK0ljt+YqRSxGhnH2Jsr7F2fPIkZvL7Wl0oIpPmUwdUtSRQxOj0mjiJskvxjuZUtlRAAbzXeFPVjSDt4kYAxGuscpnTMv/cWP+QL+AkK0RUQG1+G3wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"formula\"\n        title=\"formula\"\n        src=\"/static/6004a50c09669388a69787bb9eaae701/37523/formula.png\"\n        srcset=\"/static/6004a50c09669388a69787bb9eaae701/e9ff0/formula.png 180w,\n/static/6004a50c09669388a69787bb9eaae701/f21e7/formula.png 360w,\n/static/6004a50c09669388a69787bb9eaae701/37523/formula.png 720w,\n/static/6004a50c09669388a69787bb9eaae701/302a4/formula.png 1080w,\n/static/6004a50c09669388a69787bb9eaae701/07a9c/formula.png 1440w,\n/static/6004a50c09669388a69787bb9eaae701/fa60d/formula.png 1792w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>기존의 픽셀 색깔과 fragment색깔을 블랜딩한다는 의미</em></p>\n<p>z-buffering 알고리즘은 렌더링 순서와 상관없이 어떤 순서로 하든 동일한 결과물을 제공한다.</p>\n<ul>\n<li>그래서 alpha 값이 1인 경우와, 그렇지 않은 경우를 구분해야하는데,</li>\n<li>이때 alpha값이 1이 아닌 경우에는 뒤에서부터 앞의 z값을 비교해서 처리하는 back-to-front order를 가져가야 한다. 그래야 z-buffering test결과를 보장할 수 있고, 위 식에도 정확한 값이 나올 것이다.</li>\n<li>그래서 sorting이 필수 불가결하겠다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token function\">glEnable</span><span class=\"token punctuation\">(</span>GL_BLEND<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">glBlendFunc</span><span class=\"token punctuation\">(</span>GL_SRC_ALPHA<span class=\"token punctuation\">,</span> GL_ONE_MINUS_SRC_ALPHA<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">glBlendEquation</span><span class=\"token punctuation\">(</span>GL_FUNC_ADD<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>아까 본 formula 그대로 적용하면 된다고 생각하면 편할 듯?</li>\n<li>fragment = source라고 생각하고 그대로 대입하면 된다.</li>\n<li>이외에도 다양한 value들이 있어서 참고하면 되겠다!</li>\n</ul>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACz0lEQVQozx3O+VIaBwDA4X2H/J+xNakKqFxyX8vCLoecuwiKIKByWAEFAipgFESLUdOknU6n7bv+OpPvCT7BZLaQkXbRHEWc5iSbliw6txOd34XeE8Ima7hSe7iyOXzpKj71GHGvjit9wJYss+4VsQZVdiQVZySP4JOsRD1hPDspTFYfdiWIKy1jDAVwROOI6RySWkDMlYge1JG0GgGtijtdwZ+rYt5NYhI9GH1+7HIeweE1E8mlURtFCp0i9asWB7+WiJXSqPUTtHqTXLHE3uEJiXIDea+KUjgllN3Hnyniy9YwJ+KsKzZsMQ3BHdyh/3xN/+WK2qRE5VOeSifH+d2Y8dc3eo8LcsUjMmoR9fQMpXCElCuze1DGHVexxQtI+RZGeRe9FET4Wf+BxvSM7rJPoZvnYn5J5/6ayfdXHv/7i8HzgubkhkS5QrZaJ3vSQNIOENUSgewhFiWNKZLAESthisQRNozr5FpJ2otThi/nDJ/7dB/GXL/NGb3cMVguGC2faIyGpCpVEuVj5HyJQGqfQKaMI66yHVLQ+0WcsUMEm8fE4YXGxbLG5I8Oo9c2rdsmvd+u6Nz16C/umHxZcDkZkKnVCGn7eJJZbHISu6JilePsRONsh/1sh0UEh99Moiwx+b3J5FuD8dc2g8dLbl6m9OcDzidD+g8zurefSR6V8SSS2JQEZjGKziWy7Ytglv1shTwYQi6EDasee9rB529tFv9OmX7/RP+hx/h1xsVsRPt+yPWXJ8avf6KetDD4nDiUOFveML/YgmzYFYxuJx8Mq+iMBoR3K+9JHYeZ/z1i8c+My3mH3rLP8G1O9+me1u2Q5mTE2XhGrFjlo92Mzu1G5/KyZguwavJhsGyyqvuJtY8rCN6YRG/a5OZtxNWiw3DZp9KtEU8nqWRDWAI6pIwHUfOwbtGxYlhD57OzarGwsmXn3ftN3MkMgVT4x/J/Wxi3er/kyeEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alphaBlending\"\n        title=\"alphaBlending\"\n        src=\"/static/acf6d00a2ac5a98e7151b5ae314a6c00/37523/alphaBlending.png\"\n        srcset=\"/static/acf6d00a2ac5a98e7151b5ae314a6c00/e9ff0/alphaBlending.png 180w,\n/static/acf6d00a2ac5a98e7151b5ae314a6c00/f21e7/alphaBlending.png 360w,\n/static/acf6d00a2ac5a98e7151b5ae314a6c00/37523/alphaBlending.png 720w,\n/static/acf6d00a2ac5a98e7151b5ae314a6c00/302a4/alphaBlending.png 1080w,\n/static/acf6d00a2ac5a98e7151b5ae314a6c00/07a9c/alphaBlending.png 1440w,\n/static/acf6d00a2ac5a98e7151b5ae314a6c00/cb1ac/alphaBlending.png 1936w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByElEQVQY0x3Hz09SAQDA8XfoH+hgi37NrYstYcFCa7QO1Wa2Eio3fzCnlZNiDmlpSPJ6/FhtLNl7rkKN5JTr0JYdWkldOlnTnvwQHnFsFmBQwXJdv42+2+fwFeZnH3PZ1kU4HCYUCiLLMpFIBFlWCPglTh43ExC9NKpXy/yp/WT7d5Xt+q//Gl+rlKiVv/K3XkWIPlRoMxpwjAxz3TGC3x/A5xORJImhwQFamnX4Jtxk8znS6gqFrMrb1y/JqJ/IqB9ZW/lA4s0SzxfjqOoqwpO5KIbDLVy0XsDhcDA66sTj8SCKIpdsVpr37iIkelFiC9j6e1Bmppmc8qIoER5MhxH9d3G6x+i9MsiLV0sI8afzHDXqsXadp6+3B4vlGOc6Oxiw99HZcYZ9uiakqUlizxbR6Q1Y7XZc47e4OTGOc8zFDbcLX0Ci/9oQs/EFhLnoI1oOHqDNZKDdqMd8pKGVdpMes1HP7qadiHduMxOLsUO3h0OWE5hOneZsdzfB+yF8QQn78FX261u5J8sI5XKJdGodLZcllVznfWKZd4llPq+t8kXLkUol+ba5yValgppOk9HyZDSNbD7P92KRYqmEViiQ3Nig/GOLf+/SOiKpZBI3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"fog\"\n        title=\"fog\"\n        src=\"/static/bf434e76fa3f230dabe6a96e013142bc/37523/fog.png\"\n        srcset=\"/static/bf434e76fa3f230dabe6a96e013142bc/e9ff0/fog.png 180w,\n/static/bf434e76fa3f230dabe6a96e013142bc/f21e7/fog.png 360w,\n/static/bf434e76fa3f230dabe6a96e013142bc/37523/fog.png 720w,\n/static/bf434e76fa3f230dabe6a96e013142bc/302a4/fog.png 1080w,\n/static/bf434e76fa3f230dabe6a96e013142bc/07a9c/fog.png 1440w,\n/static/bf434e76fa3f230dabe6a96e013142bc/dca52/fog.png 1550w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>alpha blending을 잘하면 사용할 수 있는 예시들</em></p>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#color-and-depth-buffers\">Color and Depth Buffers</a></p>\n<ul>\n<li><a href=\"#z-buffering\">Z-buffering</a></li>\n<li><a href=\"#z-buffering-in-gl\">Z-buffering in GL</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#rgb-a--alpha-blending\">RGB “A” → Alpha blending</a></p>\n</li>\n</ul>\n</div>","excerpt":"ⓒ 2019. JungHyun Han Korea University Seoul, All rights reserved. Color and Depth Buffers  Viewport : 실제적으로 스크린에 보여줄 영역이다. 이때 그 영역을 잠시 보관하고 있는 공간을 Buffer라고 한다. Color Buffer : 스크린에 나타날 픽셀들을 잠시 저장하는 곳 (WxH) Depth Buffer : Color Buffer에 저장된 픽셀들의 Z-value들을 저장하는 곳이라 생각하면 되겠다.  Fragment Shader에서 계산된 normal을 이용해서 Lighting을 진행하고, 계산된 texCoord를 사용해서 texturing을 진행해서 결국 output merger에 RGB값을 전달하게 된다. Z-buffering  color buffer에 저장하게 되는데, 각 fragment 모두마다 z-value를 비교를 해서 나타나게 된다. 예를 들어, 1,0으로 주어진 default 값에 비…","frontmatter":{"date":"October 07, 2024","title":"OpenGL ES 3차원 컴퓨터그래픽스 Output Merger","categories":"OpenGL","author":"ALEX","emoji":"🥽"},"fields":{"slug":"/opengl-output-merger/"}},"next":{"id":"ca4cc91a-54f1-5ef9-8515-d911cd00cec3","html":"<p>ⓒ 2019. <a href=\"https://media.korea.ac.kr/people/jhan/\">JungHyun Han</a> Korea University Seoul, All rights reserved.</p>\n<br/>\n<h2 id=\"lighting\" style=\"position:relative;\"><a href=\"#lighting\" aria-label=\"lighting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Lighting</h2>\n<p>빛과 물체릐 상호작용을 다루는 모든 행위를 lighting이라고 한다.</p>\n<h3 id=\"phong-model\" style=\"position:relative;\"><a href=\"#phong-model\" aria-label=\"phong model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Phong Model</h3>\n<p>가장 유명한 lighting 모델 중에 Phong Model을 자주 쓴다.</p>\n<ul>\n<li>diffuse</li>\n<li>specular</li>\n<li>ambient</li>\n<li>emissive</li>\n</ul>\n<h3 id=\"diffuse-term\" style=\"position:relative;\"><a href=\"#diffuse-term\" aria-label=\"diffuse term permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Diffuse Term</h3>\n<p><strong>Directional light source</strong> : 워낙 멀리 떨어져있어서 평행하다고 가정하고 한다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA80lEQVQoz3WR227DIBBE/f9fVqmvlSpVjdRUiYPv2AQwjvGpbNcNJO4+ALMzGvaSAEgpSdMUIQryPKfv+znNNE1ssb2NMRRFTV5IskxQliVt2/5pkvlwzpGJM5fTO8ZYbrfhX0M3eMrsg0q80EhFXVd0XRcbzuFHy1F8RgYb93jjC3TzShgblyz8L0jbkVTaXeHyQYCPuaHW7kmbrJUscEkcSktnHEZfo1muRnft4OHtJOmUwmiN9/5eYdjed1bzdSmxRj8ZhrqrUpzziqvW6NAwFM3DVarbbTlajHM0TcNjREuZb2vtOqedpYR4HMdopiH3A6OVc+8Gg6UEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"directional\"\n        title=\"directional\"\n        src=\"/static/c642f19c16970a9bd746cfcd1ccc0eec/37523/directional.png\"\n        srcset=\"/static/c642f19c16970a9bd746cfcd1ccc0eec/e9ff0/directional.png 180w,\n/static/c642f19c16970a9bd746cfcd1ccc0eec/f21e7/directional.png 360w,\n/static/c642f19c16970a9bd746cfcd1ccc0eec/37523/directional.png 720w,\n/static/c642f19c16970a9bd746cfcd1ccc0eec/302a4/directional.png 1080w,\n/static/c642f19c16970a9bd746cfcd1ccc0eec/87488/directional.png 1282w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>가상카메라가 어디에 있든, 색깔은 동일하다고 볼 수 있다. → 난반사 (Lambertian Surface)</p>\n<ul>\n<li>\n<p>l을 광원으로 부터는 벡터 방향</p>\n</li>\n<li>\n<p>n을 p점의 normal 벡터 방향이라고 하자.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVQoz42S207DMAyG9/4vxSWXoN0xCQGbFtauyZI0aXP+Ubp2XbuAsFTlUPuznd8bjJZSwv1+Ot+v0z7oV6QgHu6zbRZBrkZon/GQZAwavgH4ghTkP4BRIfQfUL0HZXQRkF0mP946KNVNuR6B65bJmeOwe0eKETHGucIYEVICPXxBS4lUiN2sy3bOQvALeFVDcI4Qws05w7mUEKcTOGOwzpWBpSp7Y4oiZdNdV4wZgPPFMihXRgjB8UhQVRUI+YYZk+RKS5OwAN5GIgRYa2GNAW0aNA2FEAKMsQHovR/W4W3/Unm6c86BMwrGL1hbTqZVi/pcL4DFlpM7IcgnWA98Eopqt4NSamwv3hTlSmO/3UJQilCAzsBokPwZ1nlI1UHLFn3fIwR/fbduC6P3IKyH5AKm64Zufh2btc0qX//F/g3JN6PKuihIBv4AhQyv5soFmlIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vectorEfficiency\"\n        title=\"vectorEfficiency\"\n        src=\"/static/9264145e49ffa34537bf2fb5b430dbf4/37523/vectorEfficiency.png\"\n        srcset=\"/static/9264145e49ffa34537bf2fb5b430dbf4/e9ff0/vectorEfficiency.png 180w,\n/static/9264145e49ffa34537bf2fb5b430dbf4/f21e7/vectorEfficiency.png 360w,\n/static/9264145e49ffa34537bf2fb5b430dbf4/37523/vectorEfficiency.png 720w,\n/static/9264145e49ffa34537bf2fb5b430dbf4/d69c4/vectorEfficiency.png 1002w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>이 두 벡터 사이의 각도 세타가 커질수록 빛의 양이 더 작아진다. → <strong>cosθ</strong></p>\n</li>\n<li>\n<p>cosθ에서 θ가 90도를 넘어가면, 0이 그 값이 되겠다.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqklEQVQY01WPCQqFMAxEvf+9BO8gqFgVtVZR3LeRGfDjL4Q0yfRN6q3rinEccd835nlWPo4Dy7Lge1h/ddd16T5N05/OO88TWZahbVts2yYBe33fC8zevu8CFEWBsiylsdZq1nWd8hseqXRyziFNUwzDgDzPFYTGcazNXp0xBmEY/vSsCU2SRG8FpDudm6ZBFEUIgkAbs1fXteavjpsRRoDv+zJmr6oq/ewB9L8yW6FSDoUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"rgb\"\n        title=\"rgb\"\n        src=\"/static/fcd6824669ca36fe641dece0cfcef70a/37523/rgb.png\"\n        srcset=\"/static/fcd6824669ca36fe641dece0cfcef70a/e9ff0/rgb.png 180w,\n/static/fcd6824669ca36fe641dece0cfcef70a/f21e7/rgb.png 360w,\n/static/fcd6824669ca36fe641dece0cfcef70a/37523/rgb.png 720w,\n/static/fcd6824669ca36fe641dece0cfcef70a/302a4/rgb.png 1080w,\n/static/fcd6824669ca36fe641dece0cfcef70a/07a9c/rgb.png 1440w,\n/static/fcd6824669ca36fe641dece0cfcef70a/7f15f/rgb.png 1530w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>백색광인 RGB가 (1,1,1)인데, 이 빛을 쐈을 때 물체 표면이 (1,0,0)인 빨간색 물체라면,\n(1,1,1) ⨷ (1,0,0) = (1,0,0) 으로 빨간색으로 보일 것이다.</p>\n<ul>\n<li>표면이 (0.5,1,0)이라면, (1,1,1) ⨷ (0.5,1,0)이므로 (0.5,0.5,0)이 된다.</li>\n</ul>\n<br/>\n<h3 id=\"specular-term\" style=\"position:relative;\"><a href=\"#specular-term\" aria-label=\"specular term permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Specular Term</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABLElEQVQoz2WRa0/CMBiF+f/xj/gfNOGDiX6QCESNoARQB7u4q9t62brHtGyAepK2b07fnp7TjgC6rqMsS/K8IMtyyvIbIQR1XTu+aRoOfS1D/wBbD8NiZCdjDJ63Y7NZsd2sSdOUthdpW40Q0h5F+RcY8ej4Ris6Yxx/Lj4aNpUG8kuoxseGIMy4n7zQtgdnpp4iqz1WJgoDirJy9d6Pef8ITw5tpFooaAJU7SP7S8NdyORhcXRrobVhm3e8vi2YPa8owpT5bMnt3dNvQftmrjbgfUbEkymdlo6TUvaRDFpJwixnfnXD8npMtl1j+tinyE1DVVUoKfEDn6/djtjz8KOIOI5RSh0dJkniekWSoIUgKQqXoDsXtLCHrEu7Kq2RWqN7zrT/f/cvhl/+AfdDHho4x8oWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"specularTerm\"\n        title=\"specularTerm\"\n        src=\"/static/2d144d604d0d29c4287ac0ecdcb13f65/37523/specularTerm.png\"\n        srcset=\"/static/2d144d604d0d29c4287ac0ecdcb13f65/e9ff0/specularTerm.png 180w,\n/static/2d144d604d0d29c4287ac0ecdcb13f65/f21e7/specularTerm.png 360w,\n/static/2d144d604d0d29c4287ac0ecdcb13f65/37523/specularTerm.png 720w,\n/static/2d144d604d0d29c4287ac0ecdcb13f65/84ee5/specularTerm.png 1076w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>정반사는 하나의 방향으로 반사되는 현상이기 때문에 카메라가 어디에 위치하느냐가 중요하다.</p>\n<ul>\n<li>\n<p>똑같이 빛이 들어오는 벡터를 l이라고 하고,</p>\n</li>\n<li>\n<p>p점에서의 n 법선벡터를 설정하면,</p>\n</li>\n<li>\n<p>이 l과 n이 이루는 각도를 θ라고 설정할 때, 이를 입사각이라고 하고,</p>\n</li>\n<li>\n<p>같은 각도만큼 반사각을 이루면서 방향이 설정되어 벡터가 생성될 것이다. 반사벡터 r이라고 하자.</p>\n</li>\n<li>\n<p>해당 점이랑 카메라 위치를 향한 벡터를 v벡터라고 하자.</p>\n</li>\n</ul>\n<p>Specular Term에서 핵심은 v벡터와 r벡터와의 관계이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVQY01VQy07EMAzM//8RFy57RytuiD0AEl3RVbNxnDTvDrKr8rA0sjJ2xh4boONvjLYAI/7nxlBIbNumeV1XTNMEa+0PLzA+MogjnGN8zQyUF9S6ILobwvsZbx8zWmvw3qPWqp9jjPoW0Zyz5iPM5/WG16dn2OsM5r1ABbicHrCcH1E60GpV0RACSikKEcopaz8z63biwtRSkEJAyklJmcaeEH1Abru9lJKKERGY9808edztXYVlY7EuPUYnhADnSAtEHiFGxRi/9z02PEIsC3fcWIb13vENNcuEQiNnLDUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cosgraph\"\n        title=\"cosgraph\"\n        src=\"/static/65608cee3d83016713d9c5838360c511/37523/cosgraph.png\"\n        srcset=\"/static/65608cee3d83016713d9c5838360c511/e9ff0/cosgraph.png 180w,\n/static/65608cee3d83016713d9c5838360c511/f21e7/cosgraph.png 360w,\n/static/65608cee3d83016713d9c5838360c511/37523/cosgraph.png 720w,\n/static/65608cee3d83016713d9c5838360c511/302a4/cosgraph.png 1080w,\n/static/65608cee3d83016713d9c5838360c511/07a9c/cosgraph.png 1440w,\n/static/65608cee3d83016713d9c5838360c511/7be33/cosgraph.png 1558w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>사진에서 보이는 것처럼, view에 매우 크게 의존하기 한다.</p>\n<ul>\n<li>view의 범위에 따라 그 선명도의 차이가 확연히 차이가 있는데, 이를 조정하기 위해 그냥 cos이 아닌, cos에 sh차수가 붙은 함수를 사용해서 조정한다. 이 때 sh는 shininess라고 한다.(얼마나 물체가 매끈하냐)</li>\n<li>유사하게도, 색상까지 고려를 해야한다.</li>\n<li>이때 ms는 gray-scale(R=G=B)이어야 한다. → 물체의 특성에 따라 광원 색깔을 흡수하지만, 그래도 광원 그 자체를 표현하는 것이다.</li>\n<li>밝은 부분은 r과 v가 거의 비슷한 상태를 나타내는 것이다.</li>\n</ul>\n<br/>\n<h3 id=\"ambient-and-emissive\" style=\"position:relative;\"><a href=\"#ambient-and-emissive\" aria-label=\"ambient and emissive permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ambient and Emissive</h3>\n<p>light source가 어디있는지는 모르겠지만, 물체가 보인다.</p>\n<ul>\n<li>온갖 방향으로 들어오고, 반사도 온갖 방향으로 반사한다. 배경광 반사라고 생각하면 편할 듯.</li>\n<li>특정하게 l벡터가 없음.</li>\n<li>n벡터 또한 의미가 사라짐.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGklEQVQY02VQPUsDQRDND0qRIn1SWwi2XplfEEvrIGktLPwJFmk8CEhAEExSBUFic4gh7ul57n1k3b29ze3dPrlVlOjAMPPm4/FmGmVZgjEGIQQ45xCcIxMC/kuIMKT4a8V2u4ONMTt5oygKKKV+i9/x0r3FdHZv8zSOsVwscD4c4qTfx918Ds4YyOrJ9mtRtddmCaWUFnyoEmsSICIUutDIMmkXb8ZjHDkO9ppNHLTbOOx0cDYY4M33IWWOJN0gDN9Rc30pzHNwqeB5HuKLUzwuH5AXGiqX9gwaBDju9bDfallCp9vFdDKxIrTWdsaYClVl0KilUkpBCAHbJHhdPyNNE4ujKP45hSUJrl0XV6MRVp5na1VV/fvxJxcPadBUuOgeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ambient\"\n        title=\"ambient\"\n        src=\"/static/8b27032f738e497acff773bde7d17145/37523/ambient.png\"\n        srcset=\"/static/8b27032f738e497acff773bde7d17145/e9ff0/ambient.png 180w,\n/static/8b27032f738e497acff773bde7d17145/f21e7/ambient.png 360w,\n/static/8b27032f738e497acff773bde7d17145/37523/ambient.png 720w,\n/static/8b27032f738e497acff773bde7d17145/f4281/ambient.png 1016w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>온갖 방향에서 들어오는 빛을 RGB컬러로 정하면, 물체 고유의 RGB를 곱해서 나타낼 수 있음.</li>\n</ul>\n<p><strong>emissive</strong> : 스스로 빛내는 발광체 → 그냥 그 RGB값을 주면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABwklEQVQoz32SS47TQBCGcwn2XIVNpMwdsuMQLHIEBDt2iJuwAiGxcEZAkCZDmDiy83DsJHY/3PGjP2RP7HFIoKxql+vlv/7qHkAURcxmM4JgW78XiwWe5+H7PvfTezabDa7rMp+7+L7HcrlsfZVd5WdZVrWiVx3GGMIwZOm7hNsAIUStOs8wlR6PBMGa9cojjmOklGitKYqi1iRJKMvysaG1lkbSeAwckcKw2wvU3Ofb5y/IRGPzECN+1nnrdYRODY7jMJlM2vqqV68xwJJby96bc3BnmMLy9dVrXjx7zq0zrguE1EQLD5UIPM9nMBgwHA7bZnXDxqikgp0fDUZrDnGMEpL9bncqgDzPyY2pR5RC1NynacoTqIrDk9GZ/KrY/yR0Y70z58kf7QRhGBMsfSaOgxLirIHvb1Eq5XY8Zjqdtgu54LCwELgPbGa/yS18ePuGlzc3PNzd1QVaSZJf39FCMndd+v0+o9HonMMu5KIsKTLDMdXESYKS8gzdI4dpzaFSqr5Czf174vAfHDVjVJIdBGIbnXHWjdt2D38hbGC339VTlOhPP/j47j1Gaa7lX4x87U/d5DgMCVari1g3v9nyH06Uld24GVO9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"phongModel\"\n        title=\"phongModel\"\n        src=\"/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/37523/phongModel.png\"\n        srcset=\"/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/e9ff0/phongModel.png 180w,\n/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/f21e7/phongModel.png 360w,\n/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/37523/phongModel.png 720w,\n/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/302a4/phongModel.png 1080w,\n/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/07a9c/phongModel.png 1440w,\n/static/1ffc8d6ddf34afa1fa0e4d6e2b0639bf/1134b/phongModel.png 1470w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>모두 합치면 이런 식으로 Model을 완성할 수 있다.</em></p>\n<h3 id=\"pre-fragment-lighting\" style=\"position:relative;\"><a href=\"#pre-fragment-lighting\" aria-label=\"pre fragment lighting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pre-fragment Lighting</h3>\n<ul>\n<li>\n<p>해처럼 directional light source를 사용할 것이기 때문에 지점이 어디에 있던, 방향은 똑같이 들어온다고 가정한다. = 동일한 light 벡터 l을 사용 → uniform</p>\n</li>\n<li>\n<p>n벡터와 v벡터는 rasterizer를 통과한 이후에 계산된 값을 받을 것이다.</p>\n</li>\n<li>\n<p>r벡터는 n과 l 벡터가 주어지면 자체적으로 계산할 수 있음을 알고 있다.</p>\n</li>\n</ul>\n<p>이때, 빛의 벡터인 l벡터는 world space 공간 상에서의 벡터이기 때문에, 이에 맞춰 다른 벡터들도 모두 world space상으로 옮겨져야한다.</p>\n<ul>\n<li>object space에서 world space로의 변환을 진행해야하는데, 이는 결국 vertex shader가 변환해서 던져줘야 한다. (rasterizer는 그냥 interpolation정도만 한다고 생각하면 된다.)</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA0UlEQVQoz3WRW3LDIAxFvf81dSH9zHdNeCcgQLodIHbq2tGMZvSAg3RZcDCBCI+o+i+09D2rwhCR6SOXS++2bMHfYmsCo27gFvfe+80JvbJ+bjldeE3KggOMKsOagBY8aq0opYKIUErBz6rxfObjhK01OGuhtQHzXNEYvwOFGSkTotJoRqNSRs4Eogyl7rDWTeA2RQwBMca92Wvrqk7TU6nw6x3VGrRCn1d2zg1gCGHEV/ps8EciBP841E+fklIaK3dg1+g/ZP+QV8pD6bfGG/AX9ycnc+Mg3cUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"viewvector\"\n        title=\"viewvector\"\n        src=\"/static/1eeb3862fb16be1b93ab76bbb5e922d3/37523/viewvector.png\"\n        srcset=\"/static/1eeb3862fb16be1b93ab76bbb5e922d3/e9ff0/viewvector.png 180w,\n/static/1eeb3862fb16be1b93ab76bbb5e922d3/f21e7/viewvector.png 360w,\n/static/1eeb3862fb16be1b93ab76bbb5e922d3/37523/viewvector.png 720w,\n/static/1eeb3862fb16be1b93ab76bbb5e922d3/302a4/viewvector.png 1080w,\n/static/1eeb3862fb16be1b93ab76bbb5e922d3/e40ed/viewvector.png 1378w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위치 좌표를 object space에서 world space로 vertex shader가 변환을 해준 뒤에, 카메라랑 이어주면서 v벡터를 만들고 이를 rasterizer로 넣어주게 된다.</p>\n<ul>\n<li>그래서 rasterizer에서는 그냥 하드웨어적 처리로 보간만 하면 된다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHUlEQVQY012RsUoDQRCG7xFSaq+FhYL4AJY2WlgcvoKPYCN5gTRaCNaiRbARm8MiitYWYqEJgoJIOKPkyN3lbu9255O9ZOPpwLCz8//z8++sB6BFGCuNAHlp0EbbNiKCizTNMUZss7o/31wTHh2iHu5xLMv3QKpiXBiiUUbv6ZEsjSi1UJQFeZ6jlKLbe2U4jKrB206H3ZVl3vxtoqsL1KAPemLIs2LOSZokfPVD3rsvfA9CtFJoSxQhSeIqbRw0m6wvLnC34xPv7zE6P0XKssIqh/XnpZni88OKZTOSe6YYM3EYBCw1GmzMzxGsrRKdncxwry7mzgKIc8N/zKaZil622/ibWxy3WhP8d4f8/YDpYKENbr/1tdTrerjeDwHAvmV9fSBnAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"perfragment\"\n        title=\"perfragment\"\n        src=\"/static/168a1a501f6c4caf6ac10e70f00c681c/37523/perfragment.png\"\n        srcset=\"/static/168a1a501f6c4caf6ac10e70f00c681c/e9ff0/perfragment.png 180w,\n/static/168a1a501f6c4caf6ac10e70f00c681c/f21e7/perfragment.png 360w,\n/static/168a1a501f6c4caf6ac10e70f00c681c/37523/perfragment.png 720w,\n/static/168a1a501f6c4caf6ac10e70f00c681c/302a4/perfragment.png 1080w,\n/static/168a1a501f6c4caf6ac10e70f00c681c/d7e70/perfragment.png 1286w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>specular lighting 예시</em></p>\n<br/>\n<h2 id=\"vertex-shaderrecap\" style=\"position:relative;\"><a href=\"#vertex-shaderrecap\" aria-label=\"vertex shaderrecap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vertex Shader(recap)</h2>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">version</span> <span class=\"token expression\"><span class=\"token number\">300</span> es</span></span>\n\nuniform mat4 worldMat<span class=\"token punctuation\">,</span> view Mat<span class=\"token punctuation\">,</span> projMat<span class=\"token punctuation\">;</span>\nuniform vec3 eyePos<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token function\">layout</span><span class=\"token punctuation\">(</span>location <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> out vec3 position<span class=\"token punctuation\">;</span>\n<span class=\"token function\">layout</span><span class=\"token punctuation\">(</span>location <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> out vec3 normal<span class=\"token punctuation\">;</span>\n<span class=\"token function\">layout</span><span class=\"token punctuation\">(</span>location <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> out vec2 texCoord<span class=\"token punctuation\">;</span>\n\nout vec3 v_normal<span class=\"token punctuation\">,</span> v_view<span class=\"token punctuation\">;</span>\nout vec2 v_texCoord<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">void</span>  <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    v_normal <span class=\"token operator\">=</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span><span class=\"token function\">transpose</span><span class=\"token punctuation\">(</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token function\">mat3</span><span class=\"token punctuation\">(</span>worldMat<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span> normal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    vec3 worldPos <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>worldMat <span class=\"token operator\">*</span> <span class=\"token function\">vec4</span><span class=\"token punctuation\">(</span>position<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>xyz<span class=\"token punctuation\">;</span>\n    v_view <span class=\"token operator\">=</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>eyePos <span class=\"token operator\">-</span> worldPos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    v_texCoord <span class=\"token operator\">=</span> texCoord<span class=\"token punctuation\">;</span>\n    gl_Position <span class=\"token operator\">=</span> projMat <span class=\"token operator\">*</span> viewMat <span class=\"token operator\">*</span> <span class=\"token function\">vec4</span><span class=\"token punctuation\">(</span>WorldPos<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>v_view는 eyePos에서 worldPos를 빼서 벡터를 생성하게 된다.</li>\n<li>v_normal 또한 계산되어서 world space기준으로 변환된다.</li>\n</ul>\n<h2 id=\"fragment-shader\" style=\"position:relative;\"><a href=\"#fragment-shader\" aria-label=\"fragment shader permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fragment Shader</h2>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">version</span> <span class=\"token expression\"><span class=\"token number\">300</span> es</span></span>\n\nprecision mediump <span class=\"token keyword\">float</span><span class=\"token punctuation\">;</span>\n\nuniform sampler2D colorMap<span class=\"token punctuation\">;</span>\nuniform vec3 matSpec matAmbi<span class=\"token punctuation\">,</span> mat Emit<span class=\"token punctuation\">;</span>  <span class=\"token comment\">//  Ms, Ma, Me</span>\nuniform <span class=\"token keyword\">float</span> matSh<span class=\"token punctuation\">;</span> <span class=\"token comment\">//  shininess</span>\nuniform vec3 lightDir<span class=\"token punctuation\">;</span>  <span class=\"token comment\">// Directional light</span>\n\nin vec3 v_normal<span class=\"token punctuation\">,</span> v_view<span class=\"token punctuation\">;</span>\nin vec2 v_texCoord<span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">layout</span><span class=\"token punctuation\">(</span>location <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> out vec4 fragColor<span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 8.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAdUlEQVQI1z2Lyw7CIBRE+/+/1x0oprwJFyhiW2tixvQuXM3jzEzf48CIEYMII2e0ELCVghcR9lpZr/7sHdV7pGVhfrH3umJv9c83Ikyf8cRjnuGUQnEOWgo+GSlB1kILwb6nBK8UsjHIRvOmesfZ3m9oMTD/AZrnlSldL9AsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"formula\"\n        title=\"formula\"\n        src=\"/static/774038927cf205e3c062b764af86d08a/37523/formula.png\"\n        srcset=\"/static/774038927cf205e3c062b764af86d08a/e9ff0/formula.png 180w,\n/static/774038927cf205e3c062b764af86d08a/f21e7/formula.png 360w,\n/static/774038927cf205e3c062b764af86d08a/37523/formula.png 720w,\n/static/774038927cf205e3c062b764af86d08a/302a4/formula.png 1080w,\n/static/774038927cf205e3c062b764af86d08a/7a4b2/formula.png 1240w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>matSpec = Material Specular</li>\n<li>matAmbi = Material Ambient</li>\n<li>matEmit = Material Emission</li>\n<li>matSh = Material Shininess</li>\n<li>srcDiff = source Differen</li>\n<li>srcSpec = source Specular</li>\n<li>srcAmbi = source Ambient</li>\n<li>lightDir = directional light</li>\n<li>n은 rasterizer로부터 받아올 것이고,</li>\n<li>md는 주어지는 것</li>\n<li>v또한 rasterizer에서 줄 것이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//normalization</span>\n    vec3 normal <span class=\"token operator\">=</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>v_normal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    vec3 view <span class=\"token operator\">=</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>v_view<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    vec3 light <span class=\"token operator\">=</span> <span class=\"token function\">normalize</span><span class=\"token punctuation\">(</span>lightDir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//diffuse term</span>\n    vec3 matDiff <span class=\"token operator\">=</span> <span class=\"token function\">texture</span><span class=\"token punctuation\">(</span>colorMap<span class=\"token punctuation\">,</span> v_texCoord<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>rgb<span class=\"token punctuation\">;</span>\n    vec3 diff <span class=\"token operator\">=</span> <span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token function\">dot</span><span class=\"token punctuation\">(</span>normal<span class=\"token punctuation\">,</span> light<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> srcDiff <span class=\"token operator\">*</span> matDiff<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//specular term</span>\n    vec3 refl <span class=\"token operator\">=</span> <span class=\"token number\">2.0</span> <span class=\"token operator\">*</span> normal <span class=\"token operator\">*</span> <span class=\"token function\">dot</span><span class=\"token punctuation\">(</span>normal<span class=\"token punctuation\">,</span> light<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> light<span class=\"token punctuation\">;</span>\n    vec3 spec <span class=\"token operator\">=</span> <span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token function\">dot</span><span class=\"token punctuation\">(</span>refl<span class=\"token punctuation\">,</span> view<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> matSh<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> srcSpec <span class=\"token operator\">*</span> matSpec<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ambient term</span>\n    vec3 ambi <span class=\"token operator\">=</span> srcAmbi <span class=\"token operator\">*</span> matAmbi<span class=\"token punctuation\">;</span>\n\n    fragColor <span class=\"token operator\">=</span> <span class=\"token function\">vec4</span><span class=\"token punctuation\">(</span>diff <span class=\"token operator\">+</span> spec <span class=\"token operator\">+</span> ambi <span class=\"token operator\">+</span> matEmit<span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABIUlEQVQoz1WQ6W7DIBCE/f6PF+VPazVx6+IbB+IDmwBfZZLUCdKI1ezO7JEA+HlibBpM3zM0DVPXYrKMtSwZ2pZ5i6uKTgiudY25XFiVipilZNWaRUqCtSSb4UZ8pyldUdAKQXE+I49HZJqSn040hwM6yyjzHFmWNEIgq4q+qqh/c/q6RuY5fllIAi8vhIjgblz7Hrz75/AewntdRFzRP+JAEg1CwD+IbjA0/UjVDahppR/XyK8uMK0eURZM84ALAXu7RZRVx2yW6J3cG947OefQWtO2mo/PgotxvOa9c7RFifg6M2qFszbmlFIsxuyGbyLv0UrR/QiU1oRtnTdTj5IKay0Ez/vFwj7hU7D98zwzTCPGmJ1nr9nm3k7wqn3m/gBYux8xx8myHQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"onemore\"\n        title=\"onemore\"\n        src=\"/static/31291921d2dc1ea20a643d84f886ecc0/37523/onemore.png\"\n        srcset=\"/static/31291921d2dc1ea20a643d84f886ecc0/e9ff0/onemore.png 180w,\n/static/31291921d2dc1ea20a643d84f886ecc0/f21e7/onemore.png 360w,\n/static/31291921d2dc1ea20a643d84f886ecc0/37523/onemore.png 720w,\n/static/31291921d2dc1ea20a643d84f886ecc0/302a4/onemore.png 1080w,\n/static/31291921d2dc1ea20a643d84f886ecc0/a3767/onemore.png 1210w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>rasterizer을 거치면서 vertex shader에서 normalize된 벡터들이 마구잡이로 다시 생성되는 것이다. (단위벡터 성질 모두 사라짐.) 그래서 Fragment Shader에서 normalize 과정을 통해 단위벡터로 만들어주어야 한다.</p>\n</li>\n<li>\n<p>만약 ambient 값들이 다 더했을 때 1.0을 넘어가게 된다면, 그때는 그냥 1.0으로 한다고 생각하고, 결과값을 본 후에 uniform값들을 조정하면 된다.</p>\n</li>\n</ul>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#lighting\">Lighting</a></p>\n<ul>\n<li><a href=\"#phong-model\">Phong Model</a></li>\n<li><a href=\"#diffuse-term\">Diffuse Term</a></li>\n<li><a href=\"#specular-term\">Specular Term</a></li>\n<li><a href=\"#ambient-and-emissive\">Ambient and Emissive</a></li>\n<li><a href=\"#pre-fragment-lighting\">Pre-fragment Lighting</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#vertex-shaderrecap\">Vertex Shader(recap)</a></p>\n</li>\n<li>\n<p><a href=\"#fragment-shader\">Fragment Shader</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"October 05, 2024","title":"OpenGL ES 3차원 컴퓨터그래픽스 Lighting","categories":"OpenGL","author":"ALEX","emoji":"🥽"},"fields":{"slug":"/opengl-lighting/"}},"prev":{"id":"d93d5561-d9d9-59e9-9537-b28db33561a0","html":"<p>ⓒ 2019. <a href=\"https://media.korea.ac.kr/people/jhan/\">JungHyun Han</a> Korea University Seoul, All rights reserved.</p>\n<br/>\n<h2 id=\"euler-transforms-and-quaternions\" style=\"position:relative;\"><a href=\"#euler-transforms-and-quaternions\" aria-label=\"euler transforms and quaternions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Euler Transforms and Quaternions</h2>\n<p>blah blah blah</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#euler-transforms-and-quaternions\">Euler Transforms and Quaternions</a></li>\n</ul>\n</div>","frontmatter":{"date":"October 12, 2024","title":"OpenGL ES 3차원 컴퓨터그래픽스 오일러변환 및 쿼터니언","categories":"OpenGL","author":"ALEX","emoji":"🥽"},"fields":{"slug":"/opengl-eulertransforms-quaternions/"}},"site":{"siteMetadata":{"siteUrl":"https://dong-chan.com","comments":{"utterances":{"repo":"dongckim/dongckim.github.io"}}}}},"pageContext":{"slug":"/opengl-output-merger/","nextSlug":"/opengl-lighting/","prevSlug":"/opengl-eulertransforms-quaternions/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}